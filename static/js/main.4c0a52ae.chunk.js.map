{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Api/api.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js"],"names":["Searchbar","state","search","handleChange","e","setState","target","value","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","image","onImageClick","id","src","webformatURL","alt","tags","onClick","largeImageURL","ImageGallery","images","map","fetchImages","query","pageNumber","fetch","then","res","json","data","hits","modalRoot","document","querySelector","Modal","handleKeyDown","event","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","children","Button","Loader","App","isLoading","showModal","largeImageId","largeImage","onSearch","fetchImagesWithScroll","scroll","api","catch","finally","firstLoadedImage","y","getElementById","getBoundingClientRect","top","scrollY","scrollTo","behavior","handleGalleryItem","fullImageUrl","toggleModal","prevState","prevProps","length","width","height","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.4c0a52ae.chunk.js","sourcesContent":["import  { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './Searchbar.css';\r\nexport default class Searchbar extends Component {\r\n  state = { search: '' };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n      if (this.state.search.trim() === '') {\r\n         \r\n          return  toast.error('Введите тематику картинок !');\r\n    }\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\" >Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.search}\r\n            name=\"search\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport './ImageGalleryItem.css';\r\n\r\nconst ImageGalleryItem = ({ image, onImageClick  }) => {\r\n const fullImage = () => onImageClick(image.largeImageURL);\r\n\r\n  return (\r\n    <li   id={image.id}   className = 'ImageGalleryItem'>\r\n      <img\r\n        className =\"ImageGalleryItem-image \"\r\n        src={image.webformatURL}\r\n        alt={image.tags}\r\n      onClick={fullImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\n\r\nexport default ImageGalleryItem;\r\n\r\n","import React from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport './ImageGallery.css';\r\n\r\nconst ImageGallery = ({ images, onImageClick}) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(image => (\r\n        <ImageGalleryItem   onImageClick={onImageClick} key={image.id} image={image} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n\r\n","export const fetchImages = (query = '', pageNumber = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${pageNumber}&key=23318810-108b3ea994e39ab45f238c241&image_type=photo&orientation=horizontal&per_page=12`,\r\n  )\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport { fetchImages as default };","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\n\r\nimport './Modal.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className= 'Overlay' onClick={this.handleBackdropClick}>\r\n        <div className='styles.Modal'>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Modal;","import React from 'react';\r\nimport './Button.css';\r\n\r\nconst Button = ({ fetchImages }) => (\r\n  <button type=\"button\" className = 'Button' onClick={fetchImages}>\r\n    Load more...\r\n  </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\n\r\nconst Loader = () => <div>Loading...</div>;\r\n\r\nexport default Loader;","import './index.css';\nimport './App.css';\nimport { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ToastContainer } from 'react-toastify';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport * as api from './components/Api/api';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport Loader from './components/Loader/Loader';\n\n\nexport default class App extends Component{\n    state = {\n    images: [],\n    pageNumber: 1,\n    search: '',\n    error: '',\n    isLoading: false,\n    showModal: false,\n    largeImageId: null,\n    largeImage: '',\n    };\n\n\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchImages(false);\n    }\n  }\n\n  onSearch = search => {\n    this.setState({ search, images: [], pageNumber: 1 });\n  };\n\n  fetchImagesWithScroll = () => {\n    this.fetchImages(true);\n  };\n\n  fetchImages = scroll => {\n    this.setState({ isLoading: true });\n    const { search, pageNumber } = this.state;\n    api\n      .fetchImages(search, pageNumber)\n      .then(images => {\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          pageNumber: state.pageNumber + 1,\n        }));\n        return images[0];\n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      })\n      .then(firstLoadedImage => {\n        if (scroll) {\n          const { id } = firstLoadedImage;\n\n          const y =\n            document.getElementById(id).getBoundingClientRect().top +\n            window.scrollY -\n            80;\n          window.scrollTo({\n            top: y,\n            behavior: 'smooth',\n          });\n        }\n      });\n  };\n \n  handleGalleryItem = fullImageUrl => {\n    this.setState({\n      largeImage: fullImageUrl,\n      showModal: true,\n    });\n  };\n    toggleModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeImage: '',\n    }));\n  };\n \n  render() {\n    const { isLoading, images, showModal, largeImage, } = this.state;\n\n    return (\n      <div >\n        <ToastContainer/>\n        <Searchbar onSubmit={this.onSearch} />\n        <ImageGallery  onImageClick={this.handleGalleryItem} images={images} />\n        {isLoading && <Loader />}\n        {images.length > 0 && (\n          <Button fetchImages={this.fetchImagesWithScroll} />\n        )}\n                {showModal && (\n           <Modal onClose={this.toggleModal}>\n          <img src={largeImage} alt=\"\" width = '800x' height='800px'/>\n           </Modal>\n         )}\n        \n      </div>\n    );\n  }\n\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}